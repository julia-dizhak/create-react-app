(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{14:function(e,t,a){e.exports=a(21)},19:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),i=(a(19),a(13)),l=a(6),s=a(7),u=a(2),m=a(9),v=a(8),d=a(23),h=a(24),b=a(25),p=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={willWatch:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.willWatch,a=this.props,n=a.movie,o=a.removeMovie,c=a.addMovieToWillWatch,i=a.removeMovieFromWillWatch,l=n.title,s=n.vote_average,u=n.backdrop_path,m=n.poster_path;return r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(u||m),alt:""}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title"},l),r.a.createElement("p",{className:"mb-2"},"Rating: ",s),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},t?r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){e.setState({willWatch:!1}),i(n)}},"remove will watch"):r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){e.setState({willWatch:!0}),c(n)}},"will watch"),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:o.bind(null,n)},"delete movie"))))}}]),a}(n.Component);a(3);function f(e){var t=e.sortBy,a=e.updatedSortBy,n=function(e){return"nav-link ".concat(t===e?"active":null)};return r.a.createElement("ul",{className:"tabs nav nav-pills mb-3 mt-3 justify-content-center"},r.a.createElement("li",{className:"nav-item mr-3"},r.a.createElement("button",{className:n("popularity.desc"),onClick:function(){return a("popularity.desc")}},"Popularity")),r.a.createElement("li",{className:"nav-item mr-3"},r.a.createElement("button",{className:n("revenue.desc"),onClick:function(){return a("revenue.desc")}},"Revenue")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:n("vote_average.desc"),onClick:function(){return a("vote_average.desc")}},"Vote average")))}function y(e){var t=e.currentPage,a=e.totalPages,n=e.setCurrentPage,o=Array.from(Array(a).keys()).map((function(e,o){return 1===e||e===a||e>=t-2&&e<=t+2?r.a.createElement("button",{key:e+o,type:"button",className:t===e?"active":null,onClick:function(){return n(e)}},e):null}));return r.a.createElement("div",{className:"pagination mb-3 mt-4"},r.a.createElement("button",{onClick:function(){return n(t-1)}},"prev"),o,r.a.createElement("button",{onClick:function(){return n(t+1)}},"next"),a)}a(20);var g=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={movies:[],moviesWillWatch:[],sortBy:"revenue.desc",currentPage:1,totalPages:0},e.removeMovie=e.removeMovie.bind(Object(u.a)(e)),e.addMovieToWillWatch=e.addMovieToWillWatch.bind(Object(u.a)(e)),e.removeMovieFromWillWatch=e.removeMovieFromWillWatch.bind(Object(u.a)(e)),e.updatedSortBy=e.updatedSortBy.bind(Object(u.a)(e)),e.setCurrentPage=e.setCurrentPage.bind(Object(u.a)(e)),e}return Object(s.a)(a,[{key:"getMovies",value:function(){var e=this,t=this.state,a=t.sortBy,n=t.currentPage;fetch("".concat("https://api.themoviedb.org/3/","discover/movie?api_key=").concat("3f4ca4f3a9750da53450646ced312397","&sort_by=").concat(a,"&page=").concat(n)).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results,totalPages:t.total_pages})}))}},{key:"componentDidMount",value:function(){this.getMovies()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.sortBy,r=a.currentPage;t.sortBy===n&&t.currentPage===r||this.getMovies()}},{key:"removeMovie",value:function(e){var t=this.state.movies.filter((function(t){return t.id!==e.id}));this.setState({movies:t})}},{key:"addMovieToWillWatch",value:function(e){var t=this.state.moviesWillWatch,a=[].concat(Object(i.a)(t),[e]);this.setState({moviesWillWatch:a})}},{key:"removeMovieFromWillWatch",value:function(e){var t=this.state.moviesWillWatch.filter((function(t){return t.id!==e.id}));this.setState({moviesWillWatch:t})}},{key:"updatedSortBy",value:function(e){this.setState({sortBy:e})}},{key:"setCurrentPage",value:function(e){e>0&&this.setState({currentPage:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.movies,n=t.moviesWillWatch,o=t.sortBy,c=t.currentPage,i=t.totalPages;return r.a.createElement(d.a,null,r.a.createElement(h.a,{className:"mb-4"},r.a.createElement(b.a,{xs:9},r.a.createElement(f,{sortBy:o,updatedSortBy:this.updatedSortBy})),r.a.createElement(b.a,{xs:3},r.a.createElement(y,{currentPage:c,totalPages:i,setCurrentPage:this.setCurrentPage}))),r.a.createElement(h.a,null,r.a.createElement(b.a,{xs:9},r.a.createElement(h.a,null,a.map((function(t){return r.a.createElement(b.a,{key:t.id,xs:6,mb:4},r.a.createElement(p,{movie:t,removeMovie:e.removeMovie,addMovieToWillWatch:e.addMovieToWillWatch,removeMovieFromWillWatch:e.removeMovieFromWillWatch}))})))),r.a.createElement(b.a,{xs:3},"will watch: ",n.length)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.9c013110.chunk.js.map